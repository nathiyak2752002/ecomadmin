"use strict";(self.webpackChunkecommerce_dashboard=self.webpackChunkecommerce_dashboard||[]).push([[120],{4120:(Lt,I,s)=>{s.r(I),s.d(I,{ProductModule:()=>Yt});var m=s(6895),p=s(8729),J=s(490),l=s(4006),M=s(4207),f=s(5259),t=s(4650),O=s(9625),U=s(7009),w=s(3238),F=s(4859),g=s(9549),k=s(4144),N=s(4385),D=s(455);const Q=["fileInput"];function S(e,r){if(1&e&&t._UZ(0,"img",43),2&e){const o=t.oxw();t.Q6J("src",o.mainImageSrc,t.LSH)}}function E(e,r){if(1&e&&t._UZ(0,"video",44),2&e){const o=t.oxw();t.Q6J("src",o.video,t.LSH)}}function Y(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"i",47),t.NdJ("click",function(){t.CHM(o);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.removeImage(a.images.indexOf(i)))}),t.qZA()}}function L(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"img",45),t.NdJ("click",function(){const a=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.selectImage(a))}),t.qZA(),t.YNc(2,Y,1,0,"i",46),t.qZA()}if(2&e){const o=r.$implicit,n=t.oxw();t.xp6(1),t.Q6J("src",o,t.LSH),t.xp6(1),t.Q6J("ngIf",!n.view)}}function H(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"i",47),t.NdJ("click",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.removeVideo())}),t.qZA()}}function R(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"span")(1,"video",48),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.selectVideo(i.video))}),t.qZA(),t.YNc(2,H,1,0,"i",49),t.qZA()}if(2&e){const o=t.oxw();t.xp6(1),t.Q6J("src",o.video,t.LSH),t.xp6(1),t.Q6J("ngIf",!o.view)}}function V(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",50)(1,"label",51)(2,"span",52),t._UZ(3,"i",53),t.qZA(),t.TgZ(4,"input",54,55),t.NdJ("change",function(i){t.CHM(o);const a=t.oxw();return t.KtG(a.onFileChange(i))}),t.qZA()()()}if(2&e){const o=t.oxw();t.xp6(4),t.Q6J("disabled",o.view)}}function j(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Product name is required"))}function G(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("product name is required"))}function B(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Actual price is required"))}function $(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij("","Description is required"," "))}function z(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij("","Product Details is required"," "))}function K(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Reference ID is required"))}function X(e,r){if(1&e&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function W(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij("","Gender is required"," "))}function tt(e,r){if(1&e&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function et(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Category is required"))}function it(e,r){if(1&e&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function ot(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("subCategory is required"))}function rt(e,r){if(1&e&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function nt(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Type is required"))}function at(e,r){if(1&e&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function lt(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Brand is required"))}function st(e,r){if(1&e&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function dt(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("formulation is required"))}function ut(e,r){if(1&e&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function ct(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Rating is required"))}function mt(e,r){if(1&e&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function pt(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Collection is required"))}function gt(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.save())}),t._uU(1),t.ALo(2,"uppercase"),t.qZA()}if(2&e){const o=t.oxw(2);t.Q6J("disabled",o.isSave),t.xp6(1),t.Oqu(t.lcZ(2,2,"Save"))}}function ft(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.save())}),t._uU(1),t.ALo(2,"uppercase"),t.qZA()}2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Update")))}function _t(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",57)(1,"button",58),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.discard())}),t._uU(2),t.ALo(3,"uppercase"),t.qZA(),t.YNc(4,gt,3,4,"button",59),t.YNc(5,ft,3,3,"button",60),t.qZA()}if(2&e){const o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"Discard")),t.xp6(2),t.Q6J("ngIf",!o.edit),t.xp6(1),t.Q6J("ngIf",o.edit)}}let _=(()=>{class e{constructor(o,n,i,a,d){this.router=o,this.formBuilder=n,this.api=i,this.snackbar=a,this.activeRoute=d,this.productview=!1,this.videoSelect=!1,this.images=[],this.apiMainImages=[],this.submitted=!1,this.noImage="assets/no_found.jpeg",this.types=["Male","Female","Neutral"],this.category=["Haircare products","Skincare products","Nailcare products","Cosmetics","Makeup","Fragrance","Serums","Sunscreens"],this.subCategory=["subcategory1","subcategory2"],this.type=["Ecommerce","Instore","Both","Store Consumption"],this.brand=["LOr\xe9al","Maybelline","MAC","Lakme","Wella","Toni & Guy","TRESemm\xe9","Renee","System Professional","Biolarge","Matrix","Floractive","Cheryl's","Iluvia","Keracare","Cadiveu"],this.color=["Liquid","Stick","Cream","Balm","Gel","Sheet","Powder"],this.avgCustomerRating=["4 stars & above","3 stars & above","2 stars & above","1 star & above"],this.collections=["Diwali","New Year","Mother's Day","Christmas","Raksha Bandhan","Eid","Holi","Durga pooja",""],this.edit=!1,this.view=!1,this.uploadEnabled=!0,this.isSave=!1,this.activeRoute.paramMap.subscribe(c=>{this.productId=c.get("id"),console.log(this.productId),this.productId&&this.router.url.includes("edit")?(this.edit=!0,this.getProductDetails()):this.router.url.includes("view")&&(this.view=!0,this.getProductDetails())})}ngOnInit(){this.initializeForm(),this.productId||(this.mainImageSrc=this.noImage,this.generateRandomString())}generateRandomString(){const o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";this.result="";for(let n=0;n<12;n++){const i=Math.floor(Math.random()*o.length);this.result+=o.charAt(i)}return this.result}getProductDetails(){this.api.apiGetDetailsCall(this.productId,"product/getOneProduct").subscribe(o=>{this.productDetails=o.data,this.form.patchValue(o.data),this.form.controls.for.setValue(o.data.gender),this.mainImageSrc=this.productDetails?.productImages[0],this.images=this.productDetails?.productImages,this.video=this.productDetails?.productVideos[0],this.router.url.includes("view")&&this.form.disable()})}onFileChange(o){const n=o.target.files;if(this.allFiles=o.target.files,n.length>0){const i=n[0];i&&this.handleImageVideoUpload(i)}}handleImageVideoUpload(o){if(new FileReader,this.allFiles&&this.allFiles[0]){const i=this.allFiles.length;for(let a=0;a<i;a++){const d=new FileReader;d.onload=c=>{c.target.result.includes("image/")?(this.images.push(c.target.result),this.mainImageSrc=this.images[0]):this.video=c.target.result},d.readAsDataURL(this.allFiles[a])}}}selectImage(o){this.mainImageSrc=o,this.videoSelect=!1}selectVideo(o){this.videoSelect=!0}removeImage(o){this.images.splice(o,1),this.images.length||(this.mainImageSrc=this.noImage)}removeVideo(){this.video=""}clearFileInput(){this.fileInput.nativeElement.value=""}initializeForm(){this.form=this.formBuilder.group({productName:["",l.kI.required],discountPrice:["",l.kI.required],actualPrice:["",l.kI.required],description:["",l.kI.required],productDetails:["",l.kI.required],category:["",l.kI.required],subCategory:["",l.kI.required],type:["",l.kI.required],brand:["",l.kI.required],formulation:["",l.kI.required],avgCustomerRating:["",l.kI.required],for:["",l.kI.required],gift:[!0],personalised:[!0],latest:[!0],collections:["",l.kI.required],viewedBy:[""],noOfViews:[""],noOfSales:[""],productAge:[""],referenceId:["",l.kI.required]})}discard(){this.productId?this.form.patchValue(this.productDetails):this.form.reset(),this.router.navigate(["/product/list"])}save(){if(this.form.setValidators(null),this.form.updateValueAndValidity(),this.form.invalid)return console.log(this.form),void(this.submitted=!0);{this.submitted=!1,this.isSave=!0;const o=new FormData;if(this.allFiles&&this.allFiles.length)for(let n of this.allFiles)o.append("files",n);this.api.apiPostCall(o,"Product/createProductImages").subscribe(n=>{if(n.message.includes("Image Added Successfully")){const i=new M.R;i._id=this.productId?this.productId:null,i.superAdminId=localStorage.getItem("superAdminId"),i.productName=this.form.get("productName")?.value,i.discountPrice=this.form.get("discountPrice")?.value,i.actualPrice=this.form.get("actualPrice")?.value,i.description=this.form.get("description")?.value,i.productDetails=this.form.get("productDetails")?.value,i.category=this.form.get("category")?.value,i.subCategory=this.form.get("subCategory")?.value,i.type=this.form.get("type")?.value,i.gender=this.form.get("for")?.value,i.brand=this.form.get("brand")?.value,i.formulation=this.form.get("formulation")?.value,i.avgCustomerRating=this.form.get("avgCustomerRating")?.value,i.gift=this.form.get("gift")?.value,i.personalised=this.form.get("personalised")?.value,i.latest=this.form.get("latest")?.value,i.collections=this.form.get("collections")?.value,i.viewedBy=this.form.get("viewedBy")?.value,i.noOfViews=this.form.get("noOfViews")?.value,i.noOfSales=this.form.get("noOfSales")?.value,i.productAge=this.form.get("productAge")?.value,i.referenceId=this.form.get("referenceId")?.value,i.barcode=this.productId?this.productDetails.barcode:this.result,i.imageArray=n.data.imageArray.length>0?n.data.imageArray?n.data.imageArray:[]:this.images,i.videoArray=n.data.videoArray>0?n.data.videoArray?n.data.videoArray:[]:void 0!==this.video?this.video:[],this.productId?this.api.apiPutCall(i,"Product/updateProduct").subscribe(a=>{a.message.includes("Successfully")&&(this.isSave=!1,this.snackbar.openFromComponent(f.h,{data:a.message}),this.router.navigate(["/product/list"]))},a=>{a&&(this.isSave=!1)}):this.api.apiFormDataPostCall(i,"product/createProduct").subscribe(a=>{a.message.includes("Successfully")&&(this.snackbar.openFromComponent(f.h,{data:a.message}),this.router.navigate(["/product/list"]))},a=>{})}})}}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(p.F0),t.Y36(l.QS),t.Y36(O.s),t.Y36(U.ux),t.Y36(p.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-edit-product"]],viewQuery:function(n,i){if(1&n&&t.Gf(Q,5),2&n){let a;t.iGM(a=t.CRH())&&(i.fileInput=a.first)}},decls:162,vars:43,consts:[[1,"container"],[1,"card-title"],["routerLink","/product/list",1,"fa","fa-arrow-left",2,"font-size","20px","cursor","pointer"],[2,"padding","0px !important","margin","0px !important","font-weight","600"],[1,"card"],[3,"formGroup"],[1,"row"],[1,"col-md-4"],["id","images"],["id","main-img-holder"],["id","main-img","alt","main-img","style","width:'340px';height:300px",3,"src",4,"ngIf"],["id","main-video","style","width:'299px';height:300px","controls","",3,"src",4,"ngIf"],[2,"display","flex","flex-direction","row","width","100%","gap","10px"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","img-catalogue"],["class","image-upload",4,"ngIf"],[1,"col-md-8"],[1,"section-b","col-md-12"],[1,"required"],["type","text","name","Search","matInput","","formControlName","productName","maxlength","100","required","",1,"input"],[1,"hintalign"],[1,"section-b","col"],["oninput","this.value=this.value.replace(/[^0-9]/g,'');","type","text","name","Search","matInput","","formControlName","discountPrice","maxlength","50","required","",1,"input"],["type","text","oninput","this.value=this.value.replace(/[^0-9]/g,'');","name","Search","matInput","","formControlName","actualPrice","maxlength","50","required","",1,"input"],["matInput","","rows","3","cols","3","formControlName","description","maxlength","1000",1,"input",2,"font-family","unset"],["matInput","","rows","3","cols","3","formControlName","productDetails","maxlength","1000",1,"input",2,"font-family","unset"],["type","text","oninput","this.value=this.value.replace(/[^0-9]/g,'');","name","Search","matInput","","formControlName","referenceId","maxlength","50","required","",1,"input"],["formControlName","for","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","category","multiple",""],["formControlName","subCategory","multiple",""],["formControlName","type","multiple",""],["formControlName","brand","multiple",""],["formControlName","formulation","multiple",""],["formControlName","avgCustomerRating","multiple",""],["formControlName","collections","multiple",""],[1,"row","displayflx"],[1,"col-4"],["formControlName","gift"],["formControlName","personalised"],["formControlName","latest"],["class","disflex mt-5",4,"ngIf"],["id","main-img","alt","main-img",2,"width","'340px'","height","300px",3,"src"],["id","main-video","controls","",2,"width","'299px'","height","300px",3,"src"],["alt","sub-img",1,"sub-images",2,"width","'50px'","height","50px",3,"src","click"],["class","fa fa-times-circle","aria-hidden","true","style","position: relative;\n                        right:3px;\n                        bottom: 2.7rem;",3,"click",4,"ngIf"],["aria-hidden","true",1,"fa","fa-times-circle",2,"position","relative","right","3px","bottom","2.7rem",3,"click"],["id","main-video",2,"width","'52px'","height","50px",3,"src","click"],["class","fa fa-times-circle","aria-hidden","true","style","position: relative;\n                       right:3px;\n                       bottom: 2.7rem;",3,"click",4,"ngIf"],[1,"image-upload"],["for","image-upload-input"],[1,"cursor-pointer"],[1,"fa","fa-upload","fa-2x"],["type","file","accept",".jpg, .jpeg, .png, .mp4","multiple","","id","image-upload-input",2,"display","none",3,"disabled","change"],["imageUploadInput",""],[3,"value"],[1,"disflex","mt-5"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary","type","submit",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","primary","type","submit",3,"click",4,"ngIf"],["mat-flat-button","","color","primary","type","submit",3,"disabled","click"],["mat-flat-button","","color","primary","type","submit",3,"click"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"i",2),t._uU(3,"\xa0\xa0 "),t.TgZ(4,"h2",3),t._uU(5),t.ALo(6,"uppercase"),t.ALo(7,"uppercase"),t.qZA()(),t.TgZ(8,"div",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"h4",3),t._uU(13),t.qZA(),t.TgZ(14,"div")(15,"div",8)(16,"div",9),t.YNc(17,S,1,1,"img",10),t.YNc(18,E,1,1,"video",11),t.qZA(),t.TgZ(19,"div",12),t.YNc(20,L,3,2,"div",13),t.YNc(21,R,3,2,"span",14),t.qZA(),t.TgZ(22,"div",15),t.YNc(23,V,6,1,"div",16),t.qZA()()()(),t.TgZ(24,"div",17)(25,"h4",3),t._uU(26),t.qZA(),t.TgZ(27,"div",6)(28,"div",18)(29,"mat-label"),t._uU(30,"Heading"),t.TgZ(31,"span",19),t._uU(32,"*"),t.qZA()(),t._UZ(33,"input",20),t.TgZ(34,"mat-hint",21),t._uU(35),t.qZA(),t.YNc(36,j,2,1,"mat-error",14),t.qZA()(),t.TgZ(37,"div",6)(38,"div",22)(39,"mat-label"),t._uU(40,"Discount Price"),t.TgZ(41,"span",19),t._uU(42,"*"),t.qZA()(),t._UZ(43,"input",23),t.TgZ(44,"mat-hint",21),t._uU(45),t.qZA(),t.YNc(46,G,2,1,"mat-error",14),t.qZA(),t.TgZ(47,"div",22)(48,"mat-label"),t._uU(49,"Compared Price"),t.TgZ(50,"span",19),t._uU(51,"*"),t.qZA()(),t._UZ(52,"input",24),t.TgZ(53,"mat-hint",21),t._uU(54),t.qZA(),t.YNc(55,B,2,1,"mat-error",14),t.qZA()(),t.TgZ(56,"div",6)(57,"div",22)(58,"mat-label"),t._uU(59,"Description "),t.TgZ(60,"span",19),t._uU(61,"*"),t.qZA()(),t._UZ(62,"textarea",25),t.TgZ(63,"mat-hint",21),t._uU(64),t.qZA(),t.YNc(65,$,2,1,"mat-error",14),t.qZA()(),t.TgZ(66,"div",6)(67,"div",22)(68,"mat-label"),t._uU(69,"Product Details "),t.TgZ(70,"span",19),t._uU(71,"*"),t.qZA()(),t._UZ(72,"textarea",26),t.TgZ(73,"mat-hint",21),t._uU(74),t.qZA(),t.YNc(75,z,2,1,"mat-error",14),t.qZA()()()(),t.TgZ(76,"div",6)(77,"div",22)(78,"mat-label"),t._uU(79,"ID"),t.TgZ(80,"span",19),t._uU(81,"*"),t.qZA()(),t._UZ(82,"input",27),t.TgZ(83,"mat-hint",21),t._uU(84),t.qZA(),t.YNc(85,K,2,1,"mat-error",14),t.qZA(),t.TgZ(86,"div",22)(87,"mat-label"),t._uU(88,"Gender "),t.TgZ(89,"span",19),t._uU(90,"*"),t.qZA()(),t.TgZ(91,"mat-select",28),t.YNc(92,X,2,2,"mat-option",29),t.qZA(),t.YNc(93,W,2,1,"mat-error",14),t.qZA(),t.TgZ(94,"div",22)(95,"mat-label"),t._uU(96,"Category"),t.TgZ(97,"span",19),t._uU(98,"*"),t.qZA()(),t.TgZ(99,"mat-select",30),t.YNc(100,tt,2,2,"mat-option",29),t.qZA(),t.YNc(101,et,2,1,"mat-error",14),t.qZA(),t.TgZ(102,"div",22)(103,"mat-label"),t._uU(104,"Sub Category"),t.TgZ(105,"span",19),t._uU(106,"*"),t.qZA()(),t.TgZ(107,"mat-select",31),t.YNc(108,it,2,2,"mat-option",29),t.qZA(),t.YNc(109,ot,2,1,"mat-error",14),t.qZA(),t.TgZ(110,"div",22)(111,"mat-label"),t._uU(112,"Product Type"),t.TgZ(113,"span",19),t._uU(114,"*"),t.qZA()(),t.TgZ(115,"mat-select",32),t.YNc(116,rt,2,2,"mat-option",29),t.qZA(),t.YNc(117,nt,2,1,"mat-error",14),t.qZA()(),t.TgZ(118,"div",6)(119,"div",22)(120,"mat-label"),t._uU(121,"Brand"),t.TgZ(122,"span",19),t._uU(123,"*"),t.qZA()(),t.TgZ(124,"mat-select",33),t.YNc(125,at,2,2,"mat-option",29),t.qZA(),t.YNc(126,lt,2,1,"mat-error",14),t.qZA(),t.TgZ(127,"div",22)(128,"mat-label"),t._uU(129,"Formulation"),t.TgZ(130,"span",19),t._uU(131,"*"),t.qZA()(),t.TgZ(132,"mat-select",34),t.YNc(133,st,2,2,"mat-option",29),t.qZA(),t.YNc(134,dt,2,1,"mat-error",14),t.qZA(),t.TgZ(135,"div",22)(136,"mat-label"),t._uU(137,"Average customer rating"),t.TgZ(138,"span",19),t._uU(139,"*"),t.qZA()(),t.TgZ(140,"mat-select",35),t.YNc(141,ut,2,2,"mat-option",29),t.qZA(),t.YNc(142,ct,2,1,"mat-error",14),t.qZA(),t.TgZ(143,"div",22)(144,"mat-label"),t._uU(145,"Collections"),t.TgZ(146,"span",19),t._uU(147,"*"),t.qZA()(),t.TgZ(148,"mat-select",36),t.YNc(149,mt,2,2,"mat-option",29),t.qZA(),t.YNc(150,pt,2,1,"mat-error",14),t.qZA()(),t.TgZ(151,"div",37)(152,"div",38)(153,"mat-slide-toggle",39),t._uU(154,"Gift"),t.qZA()(),t.TgZ(155,"div",38)(156,"mat-slide-toggle",40),t._uU(157,"Personalised"),t.qZA()(),t.TgZ(158,"div",38)(159,"mat-slide-toggle",41),t._uU(160,"Latest"),t.qZA()()(),t.YNc(161,_t,6,5,"div",42),t.qZA()()()),2&n){let a,d,c,h,v,Z,C,x,A,T,q,P,b,y;t.xp6(5),t.AsE("",t.lcZ(6,39,"Product")," - Add ",t.lcZ(7,41,"Product"),""),t.xp6(4),t.Q6J("formGroup",i.form),t.xp6(4),t.hij(" ","Product Image",""),t.xp6(4),t.Q6J("ngIf",i.mainImageSrc&&!i.videoSelect),t.xp6(1),t.Q6J("ngIf",i.video&&i.videoSelect),t.xp6(2),t.Q6J("ngForOf",i.images),t.xp6(1),t.Q6J("ngIf",i.video),t.xp6(2),t.Q6J("ngIf",(null==i.images?null:i.images.length)<4),t.xp6(3),t.Oqu("Product Detail"),t.xp6(9),t.hij("",(null==i.form.get("productName").value?null:i.form.get("productName").value.length)||0,"/100 "),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(a=i.form.get("productName"))||null==a.errors?null:a.errors.required)),t.xp6(9),t.hij("",(null==i.form.get("discountPrice").value?null:i.form.get("discountPrice").value.length)||0,"/50 "),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(d=i.form.get("discountPrice"))||null==d.errors?null:d.errors.required)),t.xp6(8),t.hij("",(null==i.form.get("actualPrice").value?null:i.form.get("actualPrice").value.length)||0,"/50 "),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(c=i.form.get("actualPrice"))||null==c.errors?null:c.errors.required)),t.xp6(9),t.hij("",(null==i.form.get("description").value?null:i.form.get("description").value.length)||0,"/1000 "),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(h=i.form.get("description"))||null==h.errors?null:h.errors.required)),t.xp6(9),t.hij("",(null==i.form.get("productDetails").value?null:i.form.get("productDetails").value.length)||0,"/1000 "),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(v=i.form.get("productDetails"))||null==v.errors?null:v.errors.required)),t.xp6(9),t.hij("",(null==i.form.get("referenceId").value?null:i.form.get("referenceId").value.length)||0,"/50 "),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(Z=i.form.get("referenceId"))||null==Z.errors?null:Z.errors.required)),t.xp6(7),t.Q6J("ngForOf",i.types),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(C=i.form.get("for"))||null==C.errors?null:C.errors.required)),t.xp6(7),t.Q6J("ngForOf",i.category),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(x=i.form.get("category"))||null==x.errors?null:x.errors.required)),t.xp6(7),t.Q6J("ngForOf",i.subCategory),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(A=i.form.get("subCategory"))||null==A.errors?null:A.errors.required)),t.xp6(7),t.Q6J("ngForOf",i.type),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(T=i.form.get("type"))||null==T.errors?null:T.errors.required)),t.xp6(8),t.Q6J("ngForOf",i.brand),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(q=i.form.get("brand"))||null==q.errors?null:q.errors.required)),t.xp6(7),t.Q6J("ngForOf",i.color),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(P=i.form.get("formulation"))||null==P.errors?null:P.errors.required)),t.xp6(7),t.Q6J("ngForOf",i.avgCustomerRating),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(b=i.form.get("avgCustomerRating"))||null==b.errors?null:b.errors.required)),t.xp6(7),t.Q6J("ngForOf",i.collections),t.xp6(1),t.Q6J("ngIf",i.submitted&&(null==(y=i.form.get("collections"))||null==y.errors?null:y.errors.required)),t.xp6(11),t.Q6J("ngIf",!i.view)}},dependencies:[m.sg,m.O5,w.ey,F.lW,g.hX,g.bx,g.TO,k.Nt,N.gD,D.Rr,p.rH,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u,m.gd],styles:["#images[_ngcontent-%COMP%]{padding:10px;overflow:hidden;max-width:100%}#main-img-holder[_ngcontent-%COMP%]{max-width:300px;height:300px;margin-bottom:10px}.merged-icon[_ngcontent-%COMP%]{position:relative;display:inline-block}.merged-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{position:absolute;top:0;right:0}.closeIcon[_ngcontent-%COMP%]{position:absolute;left:4.2rem;bottom:6.5rem}#main-img[_ngcontent-%COMP%]{object-fit:cover;margin-bottom:15px;max-width:340px;width:100%;max-height:300px;height:100%}#img-catalogue[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin:10px}.displayflx[_ngcontent-%COMP%]{display:flex;text-align:center}.sub-images[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]{background-color:#fff;height:90%;border-radius:10px;box-shadow:0 2px 5px #0000001a;padding:1rem}mat-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:red}.required-error[_ngcontent-%COMP%]{border-color:red!important}.hintalign[_ngcontent-%COMP%]{display:flex!important;justify-content:end!important}.section-b[_ngcontent-%COMP%]{margin:10px}.section-b[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding:10px;border:none;border-radius:10px;background:#f3f3f9;width:100%;line-height:20px;margin-top:10px;margin-bottom:10px}.section-b[_ngcontent-%COMP%]     .mat-mdc-select-trigger{border-radius:10px;background:#f3f3f9;line-height:17px;padding:8px}.section-b[_ngcontent-%COMP%]     .mat-mdc-select{margin:10px}.card-title[_ngcontent-%COMP%]{display:flex;align-items:center;margin:4px}.disflex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:10px}"]})}return e})();var u=s(671),ht=s(7766),vt=s(5938),Zt=s(7392),Ct=s(1572),xt=s(6308),At=s(266);function Tt(e,r){if(1&e&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function qt(e,r){if(1&e&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function Pt(e,r){1&e&&(t.TgZ(0,"a",29),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&e&&(t.xp6(1),t.hij("+\xa0",t.lcZ(2,1,"Add new product"),""))}function bt(e,r){1&e&&(t.TgZ(0,"th",30)(1,"span"),t._uU(2,"ID"),t.qZA()())}function yt(e,r){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.Oqu(o._id)}}function It(e,r){1&e&&(t.TgZ(0,"th",32)(1,"span"),t._uU(2,"Category"),t.qZA()())}function Ot(e,r){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.Oqu(o.category.join(", "))}}function Ut(e,r){1&e&&(t.TgZ(0,"th",32)(1,"span"),t._uU(2,"Formulation"),t.qZA()())}function wt(e,r){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.Oqu(o.formulation.join(", "))}}function Nt(e,r){1&e&&(t.TgZ(0,"th",32)(1,"span"),t._uU(2,"Name"),t.qZA()())}function Jt(e,r){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.Oqu(null==o?null:o.productName)}}function Mt(e,r){1&e&&(t.TgZ(0,"th",33)(1,"span"),t._uU(2,"Action"),t.qZA()())}function Ft(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"td",34)(1,"div",35)(2,"mat-icon",36),t.NdJ("click",function(){const a=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.edit("edit",a._id))}),t._uU(3,"edit"),t.qZA(),t.TgZ(4,"mat-icon",37),t.NdJ("click",function(){const a=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.delete(a._id))}),t._uU(5,"delete"),t.qZA(),t.TgZ(6,"mat-icon",38),t.NdJ("click",function(){const a=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.edit("view",a._id))}),t._uU(7,"visibility"),t.qZA()()()}}function kt(e,r){1&e&&t._UZ(0,"tr",39)}function Dt(e,r){1&e&&t._UZ(0,"tr",40)}function Qt(e,r){1&e&&(t.TgZ(0,"div",41),t._UZ(1,"mat-spinner",42),t.qZA()),2&e&&(t.xp6(1),t.Q6J("diameter",50))}function St(e,r){1&e&&(t.TgZ(0,"div",43)(1,"p"),t._uU(2),t.qZA()()),2&e&&(t.xp6(2),t.Oqu("No data available"))}const Et=[{path:"",component:(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-product"]],decls:1,vars:0,template:function(n,i){1&n&&t._UZ(0,"router-outlet")},dependencies:[p.lC]})}return e})(),children:[{path:"list",component:(()=>{class e{constructor(o,n,i,a){this.api=o,this.dialog=n,this.snackbar=i,this.router=a,this.dataSource=new u.by([]),this.columnsToDisplay=["id","category","Formulation","name"],this.catagoryList=["Haircare products","Skincare products","Nailcare products","Cosmetics","Makeup","Fragrance","Serums","Sunscreens"],this.colorList=["Liquid","Stick","Cream","Balm","Gel"],this.inStock=["Less than 10","Less than 50","More than 100"],this.noData=!1,this.showAddProduct=!1,"SUPER_ADMIN"===localStorage.getItem("role")?(this.showAddProduct=!0,this.columnsToDisplay.push("action")):this.showAddProduct=!1}ngOnInit(){this.getProductList()}edit(o,n){this.router.navigate(["/product/"+o,n])}getProductList(){this.api.apiGetCall("product/getProduct/"+localStorage.getItem("superAdminId")).subscribe(o=>{this.inventoryList=o.data,this.dataSource.data=o.data.sort((n,i)=>Date.parse(i.createdAt)-Date.parse(n.createdAt)),o.data?.length||(this.noData=!0)})}delete(o){this.dialog.open(ht.$,{width:"250px",data:{from:"delete"}}).afterClosed().subscribe(i=>{i&&this.api.apiDeleteCall(o,"product/deleteProduct").subscribe(a=>{a.message.includes("Successfully")&&(this.snackbar.openFromComponent(f.h,{data:a.message}),this.getProductList())})})}applyFilter(o){this.dataSource.filter=o.trim().toLowerCase()}applyTypeFilter(){this.selectedColourValue?.length||this.selectedValue?.length?this.filteredData=this.dataSource.data.filter(o=>!(this.selectedValue?.length&&!this.selectedValue?.includes(o.category[0])||this.selectedColourValue?.length&&!this.selectedColourValue?.includes(o.colour[0]))):(this.filteredData=[],this.dataSource.data=this.inventoryList)}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(O.s),t.Y36(vt.uw),t.Y36(U.ux),t.Y36(p.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-list"]],decls:41,vars:10,consts:[[1,"container"],[1,"card"],[1,"row",2,"display","flex","flex-direction","row","align-items","center"],[1,"section-b","col-md-3"],["type","text","name","Search","placeholder","Search...",1,"input","m-3",3,"keyup"],[1,"col-md-6",2,"display","flex","justify-content","flex-start","gap","10px"],[2,"display","flex","gap","15px"],["appearance","outline"],["multiple","",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"add-coupon","col-md-3"],["routerLink","/product/add",4,"ngIf"],[1,"table-container"],["mat-table","","matSort","",1,"table",3,"dataSource"],["matColumnDef","id"],["class","first","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Formulation"],["matColumnDef","name"],["matColumnDef","action"],["class","last","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","style","position: sticky;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","spinner-container",4,"ngIf"],["class","no_data",4,"ngIf"],[3,"value"],["routerLink","/product/add"],["mat-header-cell","",1,"first"],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"last"],["mat-cell","",2,"position","sticky"],[1,"displayicon"],["matTooltip","Edit",2,"font-size","18px","cursor","pointer",3,"click"],["matTooltip","Delete",2,"font-size","18px","cursor","pointer",3,"click"],["matTooltip","View",2,"font-size","18px","cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""],[1,"spinner-container"],[3,"diameter"],[1,"no_data"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),t.NdJ("keyup",function(d){return i.applyFilter(d.target.value)}),t.qZA()(),t.TgZ(5,"div",5)(6,"form",6)(7,"mat-form-field",7)(8,"mat-label"),t._uU(9,"Category"),t.qZA(),t.TgZ(10,"mat-select",8),t.NdJ("valueChange",function(d){return i.selectedValue=d})("selectionChange",function(){return i.applyTypeFilter()}),t.YNc(11,Tt,2,2,"mat-option",9),t.qZA()(),t.TgZ(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Formulation"),t.qZA(),t.TgZ(15,"mat-select",8),t.NdJ("valueChange",function(d){return i.selectedColourValue=d})("selectionChange",function(){return i.applyTypeFilter()}),t.YNc(16,qt,2,2,"mat-option",9),t.qZA()()()(),t.TgZ(17,"div",10),t.YNc(18,Pt,3,3,"a",11),t.qZA()()(),t.TgZ(19,"div",1)(20,"div",12)(21,"table",13),t.ynx(22,14),t.YNc(23,bt,3,0,"th",15),t.YNc(24,yt,2,1,"td",16),t.BQk(),t.ynx(25,17),t.YNc(26,It,3,0,"th",18),t.YNc(27,Ot,2,1,"td",16),t.BQk(),t.ynx(28,19),t.YNc(29,Ut,3,0,"th",18),t.YNc(30,wt,2,1,"td",16),t.BQk(),t.ynx(31,20),t.YNc(32,Nt,3,0,"th",18),t.YNc(33,Jt,2,1,"td",16),t.BQk(),t.ynx(34,21),t.YNc(35,Mt,3,0,"th",22),t.YNc(36,Ft,8,0,"td",23),t.BQk(),t.YNc(37,kt,1,0,"tr",24),t.YNc(38,Dt,1,0,"tr",25),t.qZA(),t.YNc(39,Qt,2,1,"div",26),t.YNc(40,St,3,1,"div",27),t.qZA()()()),2&n&&(t.xp6(10),t.Q6J("value",i.selectedValue),t.xp6(1),t.Q6J("ngForOf",i.catagoryList),t.xp6(4),t.Q6J("value",i.selectedColourValue),t.xp6(1),t.Q6J("ngForOf",i.colorList),t.xp6(2),t.Q6J("ngIf",i.showAddProduct),t.xp6(3),t.Q6J("dataSource",null!=i.filteredData&&i.filteredData.length?i.filteredData:i.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",i.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",i.columnsToDisplay),t.xp6(1),t.Q6J("ngIf",!(null!=i.dataSource.data&&i.dataSource.data.length||i.noData)),t.xp6(1),t.Q6J("ngIf",!(null!=i.dataSource.data&&i.dataSource.data.length)&&i.noData))},dependencies:[m.sg,m.O5,w.ey,g.KE,g.hX,Zt.Hw,Ct.Ou,N.gD,xt.YE,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,At.gM,p.rH,l._Y,l.JL,m.gd],styles:[".section-b[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding:15px;border:none;border-radius:10px;background:#f3f3f9;width:100%;line-height:24px}.add-coupon[_ngcontent-%COMP%]{font-size:16px}.add-coupon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;color:#0e1f53;text-decoration:none}.no_data[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:12px 0 0 12px}.card[_ngcontent-%COMP%]{background-color:#fff;height:90%;border-radius:10px;box-shadow:0 2px 5px #0000001a;padding:5px;text-align:center;margin:10px}.disFlex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.disFlex[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative}.disFlex[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .normal-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{border:none;height:2.375rem;padding-left:2.5rem;padding-right:1.25rem;background-color:#f3f3f9;box-shadow:none;border-radius:1.875rem;outline:0}.disFlex[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .normal-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;font-size:1rem;line-height:2.375rem;left:.813rem;top:0;color:#74788d}.mat-table[_ngcontent-%COMP%]{width:100%}.displayicon[_ngcontent-%COMP%]{display:flex}.table-container[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}[_ngcontent-%COMP%]::-webkit-scrollbar{width:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0E1F53;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#3e4c75}"]})}return e})()},{path:"add",component:_},{path:"edit/:id",component:_},{path:"view/:id",component:_}]}];let Yt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[m.ez,J.q,p.Bz.forChild(Et),l.UX]})}return e})()}}]);
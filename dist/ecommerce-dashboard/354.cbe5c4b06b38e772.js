"use strict";(self.webpackChunkecommerce_dashboard=self.webpackChunkecommerce_dashboard||[]).push([[354],{5354:(jt,P,l)=>{l.r(P),l.d(P,{InventoryModule:()=>Gt});var p=l(6895),u=l(4006),g=l(8729),S=l(490),d=l(5259),J=(l(2340),l(4207)),t=l(4650),N=l(9625),O=l(7009),w=l(3238),Q=l(4859),f=l(9549),D=l(4144),U=l(4385),M=l(455);const V=["fileInput"];function k(o,n){if(1&o&&t._UZ(0,"img",45),2&o){const i=t.oxw();t.Q6J("src",i.mainImageSrc,t.LSH)}}function L(o,n){if(1&o&&t._UZ(0,"video",46),2&o){const i=t.oxw();t.Q6J("src",i.video,t.LSH)}}function Y(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"i",49),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,a=t.oxw();return t.KtG(a.disable?"":a.removeImage(a.images.indexOf(e)))}),t.qZA()}}function R(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"div")(1,"img",47),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.selectImage(a))}),t.qZA(),t.YNc(2,Y,1,0,"i",48),t.qZA()}if(2&o){const i=n.$implicit,r=t.oxw();t.xp6(1),t.Q6J("src",i,t.LSH),t.xp6(1),t.Q6J("ngIf",!r.view)}}function B(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"i",49),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2);return t.KtG(e.disable?"":e.removeVideo())}),t.qZA()}}function H(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"span")(1,"video",50),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.selectVideo(e.video))}),t.qZA(),t.YNc(2,B,1,0,"i",51),t.qZA()}if(2&o){const i=t.oxw();t.xp6(1),t.Q6J("src",i.video,t.LSH),t.xp6(1),t.Q6J("ngIf",!i.view)}}function G(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"div",52)(1,"label",53)(2,"span",54),t._UZ(3,"i",55),t.qZA(),t.TgZ(4,"input",56,57),t.NdJ("change",function(e){t.CHM(i);const a=t.oxw();return t.KtG(a.onFileChange(e))}),t.qZA()()()}if(2&o){const i=t.oxw();t.xp6(4),t.Q6J("disabled",i.disable)}}function j(o,n){if(1&o&&(t.TgZ(0,"mat-option",59),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i.productName)}}function E(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"mat-select",58),t.NdJ("ngModelChange",function(e){t.CHM(i);const a=t.oxw();return t.KtG(a.selectedFood=e)})("ngModelChange",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.onFoodSelection())}),t.YNc(1,j,2,2,"mat-option",31),t.qZA()}if(2&o){const i=t.oxw();t.Q6J("ngModel",i.selectedFood),t.xp6(1),t.Q6J("ngForOf",i.productList)}}function $(o,n){if(1&o&&t._UZ(0,"input",60),2&o){const i=t.oxw();t.Q6J("disabled",(i.edit||i.view)&&i.disable)}}function K(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("product name is required"))}function z(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("Actual price is required"))}function X(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij("","Description is required"," "))}function W(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij("","Product Details is required"," "))}function tt(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("Reference ID is required"))}function et(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("Quantity value is required"))}function ot(o,n){if(1&o&&(t.TgZ(0,"mat-option",59),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function it(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij("","Gender is required"," "))}function rt(o,n){if(1&o&&(t.TgZ(0,"mat-option",59),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function nt(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("Category is required"))}function at(o,n){if(1&o&&(t.TgZ(0,"mat-option",59),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function st(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("SubCategory is required"))}function lt(o,n){if(1&o&&(t.TgZ(0,"mat-option",59),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function dt(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("Type is required"))}function ut(o,n){if(1&o&&(t.TgZ(0,"mat-option",59),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function ct(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("Brand is required"))}function mt(o,n){if(1&o&&(t.TgZ(0,"mat-option",59),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function pt(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("Formulation is required"))}function gt(o,n){if(1&o&&(t.TgZ(0,"mat-option",59),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function ft(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("Rating is required"))}function ht(o,n){if(1&o&&(t.TgZ(0,"mat-option",59),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function _t(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("Collection is required"))}function vt(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"button",65),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2);return t.KtG(e.save())}),t._uU(1),t.ALo(2,"uppercase"),t.qZA()}if(2&o){const i=t.oxw(2);t.Q6J("disabled",i.isSave),t.xp6(1),t.Oqu(t.lcZ(2,2,"Save"))}}function bt(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"button",66),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2);return t.KtG(e.save())}),t._uU(1),t.ALo(2,"uppercase"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Update")))}function Ct(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"div",61)(1,"button",62),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.discard())}),t._uU(2),t.ALo(3,"uppercase"),t.qZA(),t.YNc(4,vt,3,4,"button",63),t.YNc(5,bt,3,3,"button",64),t.qZA()}if(2&o){const i=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"Discard")),t.xp6(2),t.Q6J("ngIf",!i.edit),t.xp6(1),t.Q6J("ngIf",i.edit)}}let h=(()=>{class o{constructor(i,r,e,a,s){this.router=i,this.formBuilder=r,this.api=e,this.snackbar=a,this.activeRoute=s,this.productview=!1,this.videoSelect=!1,this.images=[],this.apiMainImages=[],this.submitted=!1,this.noImage="assets/no_found.jpeg",this.types=["Male","Female","Neutral"],this.category=["Haircare products","Skincare products","Nailcare products","Cosmetics","Makeup","Fragrance","Serums","Sunscreens"],this.subCategory=["subcategory1","subcategory2"],this.type=["Ecommerce","Instore","Both","Store Consumption"],this.brand=["LOr\xe9al","Maybelline","MAC","Lakme","Wella","Toni & Guy","TRESemm\xe9","Renee","System Professional","Biolarge","Matrix","Floractive","Cheryl's","Iluvia","Keracare","Cadiveu"],this.formulation=["Liquid","Stick","Cream","Balm","Gel","Sheet","Powder"],this.avgCustomerRating=["4 stars & above","3 stars & above","2 stars & above","1 star & above"],this.collections=["Diwali","New Year","Mother's Day","Christmas","Raksha Bandhan","Eid","Holi","Durga pooja",""],this.edit=!1,this.view=!1,this.uploadEnabled=!0,this.isSave=!1,this.activeRoute.paramMap.subscribe(m=>{this.productId=m.get("id"),this.getProductList(),this.productId&&this.router.url.includes("edit")?(this.edit=!0,this.getProductDetails()):this.router.url.includes("view")&&(this.view=!0,this.getProductDetails())})}ngOnInit(){this.initializeForm(),this.productId||(this.mainImageSrc=this.noImage,this.generateRandomString())}getProductList(){this.api.apiGetCall("product/getProduct/"+localStorage.getItem("superAdminId")).subscribe(i=>{this.productList=i.data})}generateRandomString(){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";this.result="";for(let r=0;r<12;r++){const e=Math.floor(Math.random()*i.length);this.result+=i.charAt(e)}return this.result}getProductDetails(){this.api.apiGetDetailsCall(this.productId,"inventory/getOneInventoryProduct").subscribe(i=>{this.productDetails=i.data,this.form.controls.productName.setValue(i.data.productName),this.form.controls.productName.disable(),this.form.controls.discountPrice.setValue(i.data.discountPrice),this.form.controls.actualPrice.setValue(i.data.actualPrice),this.form.controls.description.setValue(i.data.description),this.form.controls.productDetails.setValue(i.data.productDetails),this.form.controls.quantity.setValue(i.data.quantity),this.form.controls.category.setValue(i.data.category),this.form.controls.subCategory.setValue(i.data.subCategory),this.form.controls.type.setValue(i.data.type),this.form.controls.brand.setValue(i.data.brand),this.form.controls.formulation.setValue(i.data.formulation),this.form.controls.avgCustomerRating.setValue(i.data.avgCustomerRating),this.form.controls.for.setValue(i.data.gender),this.form.controls.gift.setValue(i.data.gift),this.form.controls.personalised.setValue(i.data.personalised),this.form.controls.latest.setValue(i.data.latest),this.form.controls.collections.setValue(i.data.collections),this.form.controls.viewedBy.setValue(i.data.viewedBy),this.form.controls.noOfViews.setValue(i.data.noOfViews),this.form.controls.noOfSales.setValue(i.data.noOfSales),this.form.controls.productAge.setValue(i.data.productAge),this.form.controls.referenceId.setValue(i.data.referenceId),this.mainImageSrc=this.productDetails?.productImages[0],this.images=this.productDetails?.productImages,this.video=this.productDetails?.productVideos[0],this.router.url.includes("view")&&this.form.disable()})}onFileChange(i){const r=i.target.files;if(this.allFiles=i.target.files,r.length>0){const e=r[0];e&&this.handleImageVideoUpload(e)}}handleImageVideoUpload(i){if(new FileReader,this.allFiles&&this.allFiles[0]){const e=this.allFiles.length;for(let a=0;a<e;a++){const s=new FileReader;s.onload=m=>{m.target.result.includes("image/")?(this.images.push(m.target.result),this.mainImageSrc=this.images[0]):this.video=m.target.result},s.readAsDataURL(this.allFiles[a])}}}onFoodSelection(){if(this.selectedFood){console.log(this.selectedFood);const i=this.selectedFood._id;void 0!==i&&this.api.apiGetDetailsCall(i,"product/getOneProduct").subscribe(r=>{this.productDetails=r.data,this.isSave=!1,console.log(this.productDetails),this.form.controls.discountPrice.setValue(r.data.discountPrice),this.form.controls.actualPrice.setValue(r.data.actualPrice),this.form.controls.description.setValue(r.data.description),this.form.controls.productDetails.setValue(r.data.productDetails),this.form.controls.category.setValue(r.data.category),this.form.controls.subCategory.setValue(r.data.subCategory),this.form.controls.type.setValue(r.data.type),this.form.controls.brand.setValue(r.data.brand),this.form.controls.formulation.setValue(r.data.formulation),this.form.controls.avgCustomerRating.setValue(r.data.avgCustomerRating),this.form.controls.for.setValue(r.data.gender),this.form.controls.gift.setValue(r.data.gift),this.form.controls.personalised.setValue(r.data.personalised),this.form.controls.latest.setValue(r.data.latest),this.form.controls.collections.setValue(r.data.collections),this.form.controls.viewedBy.setValue(r.data.viewedBy),this.form.controls.noOfViews.setValue(r.data.noOfViews),this.form.controls.noOfSales.setValue(r.data.noOfSales),this.form.controls.productAge.setValue(r.data.productAge),this.form.controls.referenceId.setValue(r.data.referenceId),this.mainImageSrc=this.productDetails?.productImages[0],this.images=this.productDetails?.productImages,this.video=this.productDetails?.productVideos[0]})}}selectImage(i){this.mainImageSrc=i,this.videoSelect=!1}selectVideo(i){this.videoSelect=!0}removeImage(i){this.images.splice(i,1),this.images.length||(this.mainImageSrc=this.noImage)}removeVideo(){this.video=""}clearFileInput(){this.fileInput.nativeElement.value=""}initializeForm(){this.form=this.formBuilder.group({productName:["",u.kI.required],discountPrice:[""],actualPrice:[""],description:[""],productDetails:[""],quantity:["",u.kI.required],category:[""],subCategory:[""],type:[""],brand:[""],formulation:[""],avgCustomerRating:[""],for:[""],gift:[!0],personalised:[!0],latest:[!0],collections:[""],viewedBy:[""],noOfViews:[""],noOfSales:[""],productAge:[""],referenceId:[""]}),"STORE_ADMIN"===localStorage.getItem("role")?(this.disable=!0,this.form.controls.discountPrice.disable(),this.form.controls.actualPrice.disable(),this.form.controls.description.disable(),this.form.controls.productDetails.disable(),this.form.controls.category.disable(),this.form.controls.subCategory.disable(),this.form.controls.type.disable(),this.form.controls.brand.disable(),this.form.controls.formulation.disable(),this.form.controls.avgCustomerRating.disable(),this.form.controls.for.disable(),this.form.controls.gift.disable(),this.form.controls.personalised.disable(),this.form.controls.latest.disable(),this.form.controls.collections.disable(),this.form.controls.viewedBy.disable(),this.form.controls.noOfViews.disable(),this.form.controls.noOfSales.disable(),this.form.controls.productAge.disable(),this.form.controls.referenceId.disable()):this.disable=!1}discard(){this.productId?this.form.patchValue(this.productDetails):this.form.reset(),this.router.navigate(["/inventory/list"])}save(){if(this.form.setValidators(null),this.form.updateValueAndValidity(),this.form.invalid&&5!==this.allFiles?.length)this.submitted=!0;else{this.submitted=!1,this.isSave=!0;const i=new FormData;if(this.allFiles&&this.allFiles.length)for(let r of this.allFiles)i.append("files",r);this.api.apiPostCall(i,"Product/createProductImages").subscribe(r=>{if(r.message.includes("Image Added Successfully")){const e=new J.R;"STORE_ADMIN"===localStorage.getItem("role")?(null===this.productId?(e.productId=this.productId?this.productId:this.productDetails._id,e.superAdminId=localStorage.getItem("superAdminId"),e.storeId=localStorage.getItem("storeId"),e.productName=null===this.productId?this.form.get("productName")?.value.productName:this.form.get("productName")?.value,e.discountPrice=Number(this.form.get("discountPrice")?.value),e.actualPrice=Number(this.form.get("actualPrice")?.value),e.description=this.form.get("description")?.value,e.productDetails=this.form.get("productDetails")?.value,e.category=this.form.get("category")?.value,e.subCategory=this.form.get("subCategory")?.value,e.type=this.form.get("type")?.value,e.quantity=Number(this.form.get("quantity")?.value),e.brand=this.form.get("brand")?.value,e.gender=this.form.get("for")?.value,e.formulation=this.form.get("formulation")?.value,e.avgCustomerRating=this.form.get("avgCustomerRating")?.value,e.gift=this.form.get("gift")?.value,e.personalised=this.form.get("personalised")?.value,e.latest=this.form.get("latest")?.value,e.collections=this.form.get("collections")?.value,e.viewedBy=this.form.get("viewedBy")?.value,e.noOfViews=Number(this.form.get("noOfViews")?.value),e.noOfSales=Number(this.form.get("noOfSales")?.value),e.productAge=this.form.get("productAge")?.value,e.referenceId=this.form.get("referenceId")?.value,e.barcode=this.productId?this.productDetails.barcode:this.result,e.imageArray=this.images,e.videoArray=void 0!==this.video?this.video:[]):(e._id=this.productId,e.quantity=Number(this.form.get("quantity")?.value)),this.productId?this.api.apiPutCall(e,"inventory/updateInventoryProduct").subscribe(a=>{a.message.includes("Successfully")&&(this.isSave=!1,this.snackbar.openFromComponent(d.h,{data:a.message}),this.router.navigate(["/inventory/list"]))},a=>{a&&(this.isSave=!1,this.snackbar.openFromComponent(d.h,{data:a.message}))}):this.api.apiFormDataPostCall(e,"inventory/createInventoryProduct").subscribe(a=>{a.message.includes("Successfully")?(this.snackbar.openFromComponent(d.h,{data:a.message}),this.router.navigate(["/inventory/list"])):this.snackbar.openFromComponent(d.h,{data:a.message})},a=>{a&&this.snackbar.openFromComponent(d.h,{data:a.message})})):(e._id=this.productId?this.productId:null,e.superAdminId=localStorage.getItem("superAdminId"),e.productName=this.form.get("productName")?.value,e.discountPrice=this.form.get("discountPrice")?.value,e.actualPrice=this.form.get("actualPrice")?.value,e.description=this.form.get("description")?.value,e.productDetails=this.form.get("productDetails")?.value,e.category=this.form.get("category")?.value,e.subCategory=this.form.get("subCategory")?.value,e.type=this.form.get("type")?.value,e.gender=this.form.get("for")?.value,e.brand=this.form.get("brand")?.value,e.formulation=this.form.get("formulation")?.value,e.avgCustomerRating=this.form.get("avgCustomerRating")?.value,e.gift=this.form.get("gift")?.value,e.personalised=this.form.get("personalised")?.value,e.latest=this.form.get("latest")?.value,e.collections=this.form.get("collections")?.value,e.viewedBy=this.form.get("viewedBy")?.value,e.noOfViews=Number(this.form.get("noOfViews")?.value),e.noOfSales=Number(this.form.get("noOfSales")?.value),e.productAge=this.form.get("productAge")?.value,e.referenceId=this.form.get("referenceId")?.value,e.barcode=this.productId?this.productDetails.barcode:this.result,e.imageArray=r.data.imageArray.length>0?r.data.imageArray?r.data.imageArray:[]:this.images,e.videoArray=r.data.videoArray>0?r.data.videoArray?r.data.videoArray:[]:void 0!==this.video?this.video:[],this.productId?this.api.apiPutCall(e,"Product/updateProduct").subscribe(a=>{a.message.includes("Successfully")?(this.isSave=!1,null===this.productId?(e.productId=this.productId?this.productId:a.data._id,e.superAdminId=localStorage.getItem("superAdminId"),e.storeId=localStorage.getItem("superAdminId"),e.productName=this.form.get("productName")?.value,e.discountPrice=Number(this.form.get("discountPrice")?.value),e.actualPrice=Number(this.form.get("actualPrice")?.value),e.description=this.form.get("description")?.value,e.productDetails=this.form.get("productDetails")?.value,e.category=this.form.get("category")?.value,e.subCategory=this.form.get("subCategory")?.value,e.type=this.form.get("type")?.value,e.quantity=Number(this.form.get("quantity")?.value),e.brand=this.form.get("brand")?.value,e.gender=this.form.get("for")?.value,e.formulation=this.form.get("formulation")?.value,e.avgCustomerRating=this.form.get("avgCustomerRating")?.value,e.gift=this.form.get("gift")?.value,e.personalised=this.form.get("personalised")?.value,e.latest=this.form.get("latest")?.value,e.collections=this.form.get("collections")?.value,e.viewedBy=this.form.get("viewedBy")?.value,e.noOfViews=Number(this.form.get("noOfViews")?.value),e.noOfSales=Number(this.form.get("noOfSales")?.value),e.productAge=this.form.get("productAge")?.value,e.referenceId=this.form.get("referenceId")?.value,e.barcode=this.productId?this.productDetails.barcode:this.result,e.imageArray=this.images,e.videoArray=void 0!==this.video?this.video:[]):(e._id=this.productId,e.quantity=Number(this.form.get("quantity")?.value)),this.productId?this.api.apiPutCall(e,"inventory/updateInventoryProduct").subscribe(s=>{s.message.includes("Successfully")&&(this.isSave=!1,this.snackbar.openFromComponent(d.h,{data:s.message}),this.router.navigate(["/inventory/list"]))},s=>{s&&(this.isSave=!1,this.snackbar.openFromComponent(d.h,{data:s.message}))}):this.api.apiFormDataPostCall(e,"inventory/createInventoryProduct").subscribe(s=>{s.message.includes("Successfully")?(this.snackbar.openFromComponent(d.h,{data:s.message}),this.router.navigate(["/inventory/list"])):this.snackbar.openFromComponent(d.h,{data:s.message})},s=>{s&&this.snackbar.openFromComponent(d.h,{data:s.message})})):(this.snackbar.openFromComponent(d.h,{data:"Failed to update Product"}),this.isSave=!1)},a=>{a&&(this.isSave=!1)}):this.api.apiFormDataPostCall(e,"product/createProduct").subscribe(a=>{a.message.includes("Successfully")?(null===this.productId?(e.productId=this.productId?this.productId:a.data._id,e.superAdminId=localStorage.getItem("superAdminId"),e.storeId=localStorage.getItem("superAdminId"),e.productName=this.form.get("productName")?.value,e.discountPrice=Number(this.form.get("discountPrice")?.value),e.actualPrice=Number(this.form.get("actualPrice")?.value),e.description=this.form.get("description")?.value,e.category=this.form.get("category")?.value,e.subCategory=this.form.get("subCategory")?.value,e.type=this.form.get("type")?.value,e.quantity=Number(this.form.get("quantity")?.value),e.brand=this.form.get("brand")?.value,e.gender=this.form.get("for")?.value,e.formulation=this.form.get("formulation")?.value,e.avgCustomerRating=this.form.get("avgCustomerRating")?.value,e.gift=this.form.get("gift")?.value,e.personalised=this.form.get("personalised")?.value,e.latest=this.form.get("latest")?.value,e.collections=this.form.get("collections")?.value,e.viewedBy=this.form.get("viewedBy")?.value,e.noOfViews=Number(this.form.get("noOfViews")?.value),e.noOfSales=Number(this.form.get("noOfSales")?.value),e.productAge=this.form.get("productAge")?.value,e.referenceId=this.form.get("referenceId")?.value,e.barcode=this.productId?this.productDetails.barcode:this.result,e.imageArray=this.images,e.videoArray=void 0!==this.video?this.video:[]):(e._id=this.productId,e.quantity=Number(this.form.get("quantity")?.value)),this.productId?this.api.apiPutCall(e,"inventory/updateInventoryProduct").subscribe(s=>{s.message.includes("Successfully")&&(this.isSave=!1,this.snackbar.openFromComponent(d.h,{data:s.message}),this.router.navigate(["/inventory/list"]))},s=>{s&&(this.isSave=!1,this.snackbar.openFromComponent(d.h,{data:s.message}))}):this.api.apiFormDataPostCall(e,"inventory/createInventoryProduct").subscribe(s=>{s.message.includes("Successfully")?(this.snackbar.openFromComponent(d.h,{data:s.message}),this.router.navigate(["/inventory/list"])):this.snackbar.openFromComponent(d.h,{data:s.message})},s=>{s&&this.snackbar.openFromComponent(d.h,{data:s.message})})):(this.snackbar.openFromComponent(d.h,{data:"Failed to save Product"}),this.isSave=!1)},a=>{}))}})}}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(g.F0),t.Y36(u.QS),t.Y36(N.s),t.Y36(O.ux),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-product"]],viewQuery:function(r,e){if(1&r&&t.Gf(V,5),2&r){let a;t.iGM(a=t.CRH())&&(e.fileInput=a.first)}},decls:169,vars:62,consts:[[1,"container"],[1,"card-title"],["routerLink","/inventory/list",1,"fa","fa-arrow-left",2,"font-size","20px","cursor","pointer"],[2,"padding","0px !important","margin","0px !important","font-weight","600"],[1,"card"],[3,"formGroup"],[1,"row"],[1,"col-md-4"],["id","images"],["id","main-img-holder"],["id","main-img","alt","main-img","style","width:'340px';height:300px",3,"src",4,"ngIf"],["id","main-video","style","width:'299px';height:300px","controls","",3,"src",4,"ngIf"],[2,"display","flex","flex-direction","row","width","100%","gap","10px"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","img-catalogue"],["class","image-upload",4,"ngIf"],[1,"col-md-8"],[1,"section-b","col-md-12"],[1,"required"],["style","margin-left: -4px !important;","formControlName","productName",3,"ngModel","ngModelChange",4,"ngIf"],["class","input","style","margin-left: -4px !important;","formControlName","productName","matInput","","required","",3,"disabled",4,"ngIf"],[1,"section-b","col"],["oninput","this.value=this.value.replace(/[^0-9]/g,'');","type","text","name","Search","matInput","","formControlName","discountPrice","maxlength","50","required","",1,"input",3,"disabled"],[1,"hintalign"],["type","text","oninput","this.value=this.value.replace(/[^0-9]/g,'');","name","Search","matInput","","formControlName","actualPrice","maxlength","50","required","",1,"input",3,"disabled"],["matInput","","rows","3","cols","3","formControlName","description","maxlength","250",1,"input",2,"font-family","unset",3,"disabled"],["matInput","","rows","3","cols","3","formControlName","productDetails","maxlength","250",1,"input",2,"font-family","unset",3,"disabled"],["type","text","oninput","this.value=this.value.replace(/[^0-9]/g,'');","name","Search","matInput","","formControlName","referenceId","maxlength","50","required","",1,"input",3,"disabled"],["type","text","oninput","this.value=this.value.replace(/[^0-9]/g,'');","name","Search","matInput","","formControlName","quantity","maxlength","50","required","",1,"input",3,"disabled"],["formControlName","for","multiple","",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],["formControlName","category","multiple","",3,"disabled"],["formControlName","subCategory","multiple","",3,"disabled"],["formControlName","type","multiple","",3,"disabled"],["formControlName","brand","multiple","",3,"disabled"],["formControlName","formulation","multiple","",3,"disabled"],["formControlName","avgCustomerRating","multiple","",3,"disabled"],["formControlName","collections","multiple","",3,"disabled"],[1,"row","displayflx"],[1,"col-4"],["formControlName","gift",3,"disabled"],["formControlName","personalised",3,"disabled"],["formControlName","latest",3,"disabled"],["class","disflex mt-5",4,"ngIf"],["id","main-img","alt","main-img",2,"width","'340px'","height","300px",3,"src"],["id","main-video","controls","",2,"width","'299px'","height","300px",3,"src"],["alt","sub-img",1,"sub-images",2,"width","'50px'","height","50px",3,"src","click"],["class","fa fa-times-circle","aria-hidden","true","style","position: relative;\n                      right:3px;\n                      bottom: 2.7rem;",3,"click",4,"ngIf"],["aria-hidden","true",1,"fa","fa-times-circle",2,"position","relative","right","3px","bottom","2.7rem",3,"click"],["id","main-video",2,"width","'52px'","height","50px",3,"src","click"],["class","fa fa-times-circle","aria-hidden","true","style","position: relative;\n                     right:3px;\n                     bottom: 2.7rem;",3,"click",4,"ngIf"],[1,"image-upload"],["for","image-upload-input"],[1,"cursor-pointer"],[1,"fa","fa-upload","fa-2x"],["type","file","accept",".jpg, .jpeg, .png, .mp4","multiple","","id","image-upload-input",2,"display","none",3,"disabled","change"],["imageUploadInput",""],["formControlName","productName",2,"margin-left","-4px !important",3,"ngModel","ngModelChange"],[3,"value"],["formControlName","productName","matInput","","required","",1,"input",2,"margin-left","-4px !important",3,"disabled"],[1,"disflex","mt-5"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary","type","submit",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","primary","type","submit",3,"click",4,"ngIf"],["mat-flat-button","","color","primary","type","submit",3,"disabled","click"],["mat-flat-button","","color","primary","type","submit",3,"click"]],template:function(r,e){if(1&r&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"i",2),t._uU(3,"\xa0\xa0 "),t.TgZ(4,"h2",3),t._uU(5),t.ALo(6,"uppercase"),t.ALo(7,"uppercase"),t.qZA()(),t.TgZ(8,"div",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"h4",3),t._uU(13),t.qZA(),t.TgZ(14,"div")(15,"div",8)(16,"div",9),t.YNc(17,k,1,1,"img",10),t.YNc(18,L,1,1,"video",11),t.qZA(),t.TgZ(19,"div",12),t.YNc(20,R,3,2,"div",13),t.YNc(21,H,3,2,"span",14),t.qZA(),t.TgZ(22,"div",15),t.YNc(23,G,6,1,"div",16),t.qZA()()()(),t.TgZ(24,"div",17)(25,"h4",3),t._uU(26),t.qZA(),t.TgZ(27,"div",6)(28,"div",18)(29,"mat-label"),t._uU(30,"Heading"),t.TgZ(31,"span",19),t._uU(32,"*"),t.qZA()(),t.YNc(33,E,2,2,"mat-select",20),t.YNc(34,$,1,1,"input",21),t.qZA()(),t.TgZ(35,"div",6)(36,"div",22)(37,"mat-label"),t._uU(38,"Discount Price"),t.TgZ(39,"span",19),t._uU(40,"*"),t.qZA()(),t._UZ(41,"input",23),t.TgZ(42,"mat-hint",24),t._uU(43),t.qZA(),t.YNc(44,K,2,1,"mat-error",14),t.qZA(),t.TgZ(45,"div",22)(46,"mat-label"),t._uU(47,"Compared Price"),t.TgZ(48,"span",19),t._uU(49,"*"),t.qZA()(),t._UZ(50,"input",25),t.TgZ(51,"mat-hint",24),t._uU(52),t.qZA(),t.YNc(53,z,2,1,"mat-error",14),t.qZA()(),t.TgZ(54,"div",6)(55,"div",22)(56,"mat-label"),t._uU(57,"Description "),t.TgZ(58,"span",19),t._uU(59,"*"),t.qZA()(),t._UZ(60,"textarea",26),t.TgZ(61,"mat-hint",24),t._uU(62),t.qZA(),t.YNc(63,X,2,1,"mat-error",14),t.qZA()(),t.TgZ(64,"div",6)(65,"div",22)(66,"mat-label"),t._uU(67,"Product Details "),t.TgZ(68,"span",19),t._uU(69,"*"),t.qZA()(),t._UZ(70,"textarea",27),t.TgZ(71,"mat-hint",24),t._uU(72),t.qZA(),t.YNc(73,W,2,1,"mat-error",14),t.qZA()()()(),t.TgZ(74,"div",6)(75,"div",22)(76,"mat-label"),t._uU(77,"ID"),t.TgZ(78,"span",19),t._uU(79,"*"),t.qZA()(),t._UZ(80,"input",28),t.TgZ(81,"mat-hint",24),t._uU(82),t.qZA(),t.YNc(83,tt,2,1,"mat-error",14),t.qZA(),t.TgZ(84,"div",22)(85,"mat-label"),t._uU(86,"Quantity"),t.TgZ(87,"span",19),t._uU(88,"*"),t.qZA()(),t._UZ(89,"input",29),t.TgZ(90,"mat-hint",24),t._uU(91),t.qZA(),t.YNc(92,et,2,1,"mat-error",14),t.qZA(),t.TgZ(93,"div",22)(94,"mat-label"),t._uU(95,"Gender "),t.TgZ(96,"span",19),t._uU(97,"*"),t.qZA()(),t.TgZ(98,"mat-select",30),t.YNc(99,ot,2,2,"mat-option",31),t.qZA(),t.YNc(100,it,2,1,"mat-error",14),t.qZA(),t.TgZ(101,"div",22)(102,"mat-label"),t._uU(103,"Category"),t.TgZ(104,"span",19),t._uU(105,"*"),t.qZA()(),t.TgZ(106,"mat-select",32),t.YNc(107,rt,2,2,"mat-option",31),t.qZA(),t.YNc(108,nt,2,1,"mat-error",14),t.qZA(),t.TgZ(109,"div",22)(110,"mat-label"),t._uU(111,"Sub Category"),t.TgZ(112,"span",19),t._uU(113,"*"),t.qZA()(),t.TgZ(114,"mat-select",33),t.YNc(115,at,2,2,"mat-option",31),t.qZA(),t.YNc(116,st,2,1,"mat-error",14),t.qZA(),t.TgZ(117,"div",22)(118,"mat-label"),t._uU(119,"Product Type"),t.TgZ(120,"span",19),t._uU(121,"*"),t.qZA()(),t.TgZ(122,"mat-select",34),t.YNc(123,lt,2,2,"mat-option",31),t.qZA(),t.YNc(124,dt,2,1,"mat-error",14),t.qZA()(),t.TgZ(125,"div",6)(126,"div",22)(127,"mat-label"),t._uU(128,"Brand"),t.TgZ(129,"span",19),t._uU(130,"*"),t.qZA()(),t.TgZ(131,"mat-select",35),t.YNc(132,ut,2,2,"mat-option",31),t.qZA(),t.YNc(133,ct,2,1,"mat-error",14),t.qZA(),t.TgZ(134,"div",22)(135,"mat-label"),t._uU(136,"Formulation"),t.TgZ(137,"span",19),t._uU(138,"*"),t.qZA()(),t.TgZ(139,"mat-select",36),t.YNc(140,mt,2,2,"mat-option",31),t.qZA(),t.YNc(141,pt,2,1,"mat-error",14),t.qZA(),t.TgZ(142,"div",22)(143,"mat-label"),t._uU(144,"Average customer rating"),t.TgZ(145,"span",19),t._uU(146,"*"),t.qZA()(),t.TgZ(147,"mat-select",37),t.YNc(148,gt,2,2,"mat-option",31),t.qZA(),t.YNc(149,ft,2,1,"mat-error",14),t.qZA(),t.TgZ(150,"div",22)(151,"mat-label"),t._uU(152,"Collections"),t.TgZ(153,"span",19),t._uU(154,"*"),t.qZA()(),t.TgZ(155,"mat-select",38),t.YNc(156,ht,2,2,"mat-option",31),t.qZA(),t.YNc(157,_t,2,1,"mat-error",14),t.qZA()(),t.TgZ(158,"div",39)(159,"div",40)(160,"mat-slide-toggle",41),t._uU(161,"Gift"),t.qZA()(),t.TgZ(162,"div",40)(163,"mat-slide-toggle",42),t._uU(164,"Personalised"),t.qZA()(),t.TgZ(165,"div",40)(166,"mat-slide-toggle",43),t._uU(167,"Latest"),t.qZA()()(),t.YNc(168,Ct,6,5,"div",44),t.qZA()()()),2&r){let a,s,m,_,v,b,C,y,Z,x,A,I,T,q;t.xp6(5),t.AsE("",t.lcZ(6,58,"Inventory")," - Add ",t.lcZ(7,60,"Inventory"),""),t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(4),t.hij(" ","Product Image",""),t.xp6(4),t.Q6J("ngIf",e.mainImageSrc&&!e.videoSelect),t.xp6(1),t.Q6J("ngIf",e.video&&e.videoSelect),t.xp6(2),t.Q6J("ngForOf",e.images),t.xp6(1),t.Q6J("ngIf",e.video),t.xp6(2),t.Q6J("ngIf",(null==e.images?null:e.images.length)<4),t.xp6(3),t.Oqu("Product Detail"),t.xp6(7),t.Q6J("ngIf",!0===e.disable&&null===e.productId),t.xp6(1),t.Q6J("ngIf",!1===e.disable||e.productId),t.xp6(7),t.Q6J("disabled",e.disable),t.xp6(2),t.hij("",(null==e.form.get("discountPrice").value?null:e.form.get("discountPrice").value.length)||0,"/50 "),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(a=e.form.get("discountPrice"))||null==a.errors?null:a.errors.required)),t.xp6(6),t.Q6J("disabled",e.disable),t.xp6(2),t.hij("",(null==e.form.get("actualPrice").value?null:e.form.get("actualPrice").value.length)||0,"/50 "),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(s=e.form.get("actualPrice"))||null==s.errors?null:s.errors.required)),t.xp6(7),t.Q6J("disabled",e.disable),t.xp6(2),t.hij("",(null==e.form.get("description").value?null:e.form.get("description").value.length)||0,"/250 "),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(m=e.form.get("description"))||null==m.errors?null:m.errors.required)),t.xp6(7),t.Q6J("disabled",e.disable),t.xp6(2),t.hij("",(null==e.form.get("productDetails").value?null:e.form.get("productDetails").value.length)||0,"/250 "),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(_=e.form.get("productDetails"))||null==_.errors?null:_.errors.required)),t.xp6(7),t.Q6J("disabled",e.disable),t.xp6(2),t.hij("",(null==e.form.get("referenceId").value?null:e.form.get("referenceId").value.length)||0,"/50 "),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(v=e.form.get("referenceId"))||null==v.errors?null:v.errors.required)),t.xp6(6),t.Q6J("disabled",e.disable),t.xp6(2),t.hij("",(null==e.form.get("quantity").value?null:e.form.get("quantity").value.length)||0,"/50 "),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(b=e.form.get("quantity"))||null==b.errors?null:b.errors.required)),t.xp6(6),t.Q6J("disabled",e.disable),t.xp6(1),t.Q6J("ngForOf",e.types),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(C=e.form.get("for"))||null==C.errors?null:C.errors.required)),t.xp6(6),t.Q6J("disabled",e.disable),t.xp6(1),t.Q6J("ngForOf",e.category),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(y=e.form.get("category"))||null==y.errors?null:y.errors.required)),t.xp6(6),t.Q6J("disabled",e.disable),t.xp6(1),t.Q6J("ngForOf",e.subCategory),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(Z=e.form.get("subCategory"))||null==Z.errors?null:Z.errors.required)),t.xp6(6),t.Q6J("disabled",e.disable),t.xp6(1),t.Q6J("ngForOf",e.type),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(x=e.form.get("type"))||null==x.errors?null:x.errors.required)),t.xp6(7),t.Q6J("disabled",e.disable),t.xp6(1),t.Q6J("ngForOf",e.brand),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(A=e.form.get("brand"))||null==A.errors?null:A.errors.required)),t.xp6(6),t.Q6J("disabled",e.disable),t.xp6(1),t.Q6J("ngForOf",e.formulation),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(I=e.form.get("formulation"))||null==I.errors?null:I.errors.required)),t.xp6(6),t.Q6J("disabled",e.disable),t.xp6(1),t.Q6J("ngForOf",e.avgCustomerRating),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(T=e.form.get("avgCustomerRating"))||null==T.errors?null:T.errors.required)),t.xp6(6),t.Q6J("disabled",e.disable),t.xp6(1),t.Q6J("ngForOf",e.collections),t.xp6(1),t.Q6J("ngIf",e.submitted&&(null==(q=e.form.get("collections"))||null==q.errors?null:q.errors.required)),t.xp6(3),t.Q6J("disabled",e.disable),t.xp6(3),t.Q6J("disabled",e.disable),t.xp6(3),t.Q6J("disabled",e.disable),t.xp6(2),t.Q6J("ngIf",!e.view)}},dependencies:[p.sg,p.O5,w.ey,Q.lW,f.hX,f.bx,f.TO,D.Nt,U.gD,M.Rr,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.nD,u.sg,u.u,g.rH,p.gd],styles:["#images[_ngcontent-%COMP%]{padding:10px;overflow:hidden;max-width:100%}#main-img-holder[_ngcontent-%COMP%]{max-width:300px;height:300px;margin-bottom:10px}.merged-icon[_ngcontent-%COMP%]{position:relative;display:inline-block}.merged-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{position:absolute;top:0;right:0}.closeIcon[_ngcontent-%COMP%]{position:absolute;left:4.2rem;bottom:6.5rem}#main-img[_ngcontent-%COMP%]{object-fit:cover;margin-bottom:15px;max-width:340px;width:100%;max-height:300px;height:100%}#img-catalogue[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin:10px}.displayflx[_ngcontent-%COMP%]{display:flex;text-align:center}.sub-images[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]{background-color:#fff;height:90%;border-radius:10px;box-shadow:0 2px 5px #0000001a;padding:1rem}mat-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:red}.required-error[_ngcontent-%COMP%]{border-color:red!important}.hintalign[_ngcontent-%COMP%]{display:flex!important;justify-content:end!important}.section-b[_ngcontent-%COMP%]{margin:10px}.section-b[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding:10px;border:none;border-radius:10px;background:#f3f3f9;width:100%;line-height:20px;margin-top:10px;margin-bottom:10px}.section-b[_ngcontent-%COMP%]     .mat-mdc-select-trigger{border-radius:10px;background:#f3f3f9;line-height:17px;padding:8px}.section-b[_ngcontent-%COMP%]     .mat-mdc-select{margin:10px}.card-title[_ngcontent-%COMP%]{display:flex;align-items:center;margin:4px}.disflex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:10px}"]})}return o})();var c=l(671),yt=l(7766),Zt=l(5938),xt=l(7392),At=l(1572),It=l(6308),Tt=l(266);function qt(o,n){if(1&o&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function Pt(o,n){if(1&o&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function Nt(o,n){1&o&&(t.TgZ(0,"th",29)(1,"span"),t._uU(2,"ID"),t.qZA()())}function Ot(o,n){if(1&o&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.xp6(1),t.Oqu(i._id)}}function wt(o,n){1&o&&(t.TgZ(0,"th",31)(1,"span"),t._uU(2,"Category"),t.qZA()())}function Ut(o,n){if(1&o&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.xp6(1),t.Oqu(i.category.join(", "))}}function St(o,n){1&o&&(t.TgZ(0,"th",31)(1,"span"),t._uU(2,"Formulation"),t.qZA()())}function Ft(o,n){if(1&o&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.xp6(1),t.Oqu(i.formulation.join(", "))}}function Jt(o,n){1&o&&(t.TgZ(0,"th",31)(1,"span"),t._uU(2,"Name"),t.qZA()())}function Qt(o,n){if(1&o&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.xp6(1),t.Oqu(null==i?null:i.productName)}}function Dt(o,n){1&o&&(t.TgZ(0,"th",31)(1,"span"),t._uU(2,"Quantity"),t.qZA()())}function Mt(o,n){if(1&o&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.xp6(1),t.Oqu(i.quantity)}}function Vt(o,n){1&o&&(t.TgZ(0,"th",32)(1,"span"),t._uU(2,"Action"),t.qZA()())}function kt(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"td",30)(1,"div",33)(2,"mat-icon",34),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.edit("edit",a._id))}),t._uU(3,"edit"),t.qZA(),t.TgZ(4,"mat-icon",35),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.delete(a._id))}),t._uU(5,"delete"),t.qZA(),t.TgZ(6,"mat-icon",36),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.edit("view",a._id))}),t._uU(7,"visibility"),t.qZA()()()}}function Lt(o,n){1&o&&t._UZ(0,"tr",37)}function Yt(o,n){1&o&&t._UZ(0,"tr",38)}function Rt(o,n){1&o&&(t.TgZ(0,"div",39),t._UZ(1,"mat-spinner",40),t.qZA()),2&o&&(t.xp6(1),t.Q6J("diameter",50))}function Bt(o,n){1&o&&(t.TgZ(0,"div",41)(1,"p"),t._uU(2),t.qZA()()),2&o&&(t.xp6(2),t.Oqu("No data available"))}const Ht=[{path:"",component:(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-inventory"]],decls:1,vars:0,template:function(r,e){1&r&&t._UZ(0,"router-outlet")},dependencies:[g.lC]})}return o})(),children:[{path:"list",component:(()=>{class o{constructor(i,r,e,a){this.api=i,this.dialog=r,this.snackbar=e,this.router=a,this.dataSource=new c.by([]),this.columnsToDisplay=["id","category","Formulation","name","in_stock","action"],this.catagoryList=["Haircare products","Skincare products","Nailcare products","Cosmetics","Makeup","Fragrance","Serums","Sunscreens"],this.colorList=["Liquid","Stick","Cream","Balm","Gel"],this.inStock=["Less than 10","Less than 50","More than 100"],this.noData=!1}ngOnInit(){this.getInventoryList()}edit(i,r){this.router.navigate(["/inventory/"+i,r])}getInventoryList(){this.api.apiGetCall("inventory/getInventoryProduct/"+localStorage.getItem("storeId")).subscribe(i=>{this.inventoryList=i.data,this.dataSource.data=i.data.sort((r,e)=>Date.parse(e.createdAt)-Date.parse(r.createdAt)),i.data?.length||(this.noData=!0)})}delete(i){this.dialog.open(yt.$,{width:"250px",data:{from:"delete"}}).afterClosed().subscribe(e=>{e&&this.api.apiDeleteCall(i,"inventory/deleteInventoryProduct").subscribe(a=>{a.message.includes("Successfully")&&(this.snackbar.openFromComponent(d.h,{data:a.message}),this.getInventoryList())})})}applyFilter(i){this.dataSource.filter=i.trim().toLowerCase()}applyTypeFilter(){this.selectedColourValue?.length||this.selectedValue?.length?this.filteredData=this.dataSource.data.filter(i=>!(this.selectedValue?.length&&!this.selectedValue?.includes(i.category[0])||this.selectedColourValue?.length&&!this.selectedColourValue?.includes(i.colour[0]))):(this.filteredData=[],this.dataSource.data=this.inventoryList)}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(N.s),t.Y36(Zt.uw),t.Y36(O.ux),t.Y36(g.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-inventory-list"]],decls:46,vars:12,consts:[[1,"container"],[1,"card"],[1,"row",2,"display","flex","flex-direction","row","align-items","center"],[1,"section-b","col-md-3"],["type","text","name","Search","placeholder","Search...",1,"input","m-3",3,"keyup"],[1,"col-md-6",2,"display","flex","justify-content","flex-start","gap","10px"],[2,"display","flex","gap","15px"],["appearance","outline"],["multiple","",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"add-coupon","col-md-3"],["routerLink","/inventory/add"],[1,"table-container"],["mat-table","","matSort","",1,"table",3,"dataSource"],["matColumnDef","id"],["class","first","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Formulation"],["matColumnDef","name"],["matColumnDef","in_stock"],["matColumnDef","action"],["class","last","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","spinner-container",4,"ngIf"],["class","no_data",4,"ngIf"],[3,"value"],["mat-header-cell","",1,"first"],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"last"],[1,"displayicon"],["matTooltip","Edit",2,"font-size","18px","cursor","pointer",3,"click"],["matTooltip","Delete",2,"font-size","18px","cursor","pointer",3,"click"],["matTooltip","View",2,"font-size","18px","cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""],[1,"spinner-container"],[3,"diameter"],[1,"no_data"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),t.NdJ("keyup",function(s){return e.applyFilter(s.target.value)}),t.qZA()(),t.TgZ(5,"div",5)(6,"form",6)(7,"mat-form-field",7)(8,"mat-label"),t._uU(9,"Category"),t.qZA(),t.TgZ(10,"mat-select",8),t.NdJ("valueChange",function(s){return e.selectedValue=s})("selectionChange",function(){return e.applyTypeFilter()}),t.YNc(11,qt,2,2,"mat-option",9),t.qZA()(),t.TgZ(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Formulation"),t.qZA(),t.TgZ(15,"mat-select",8),t.NdJ("valueChange",function(s){return e.selectedColourValue=s})("selectionChange",function(){return e.applyTypeFilter()}),t.YNc(16,Pt,2,2,"mat-option",9),t.qZA()()()(),t.TgZ(17,"div",10)(18,"a",11),t._uU(19),t.ALo(20,"uppercase"),t.qZA()()()(),t.TgZ(21,"div",1)(22,"div",12)(23,"table",13),t.ynx(24,14),t.YNc(25,Nt,3,0,"th",15),t.YNc(26,Ot,2,1,"td",16),t.BQk(),t.ynx(27,17),t.YNc(28,wt,3,0,"th",18),t.YNc(29,Ut,2,1,"td",16),t.BQk(),t.ynx(30,19),t.YNc(31,St,3,0,"th",18),t.YNc(32,Ft,2,1,"td",16),t.BQk(),t.ynx(33,20),t.YNc(34,Jt,3,0,"th",18),t.YNc(35,Qt,2,1,"td",16),t.BQk(),t.ynx(36,21),t.YNc(37,Dt,3,0,"th",18),t.YNc(38,Mt,2,1,"td",16),t.BQk(),t.ynx(39,22),t.YNc(40,Vt,3,0,"th",23),t.YNc(41,kt,8,0,"td",16),t.BQk(),t.YNc(42,Lt,1,0,"tr",24),t.YNc(43,Yt,1,0,"tr",25),t.qZA(),t.YNc(44,Rt,2,1,"div",26),t.YNc(45,Bt,3,1,"div",27),t.qZA()()()),2&r&&(t.xp6(10),t.Q6J("value",e.selectedValue),t.xp6(1),t.Q6J("ngForOf",e.catagoryList),t.xp6(4),t.Q6J("value",e.selectedColourValue),t.xp6(1),t.Q6J("ngForOf",e.colorList),t.xp6(3),t.hij("+\xa0",t.lcZ(20,10,"Add new product"),""),t.xp6(4),t.Q6J("dataSource",null!=e.filteredData&&e.filteredData.length?e.filteredData:e.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",e.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",e.columnsToDisplay),t.xp6(1),t.Q6J("ngIf",!(null!=e.dataSource.data&&e.dataSource.data.length||e.noData)),t.xp6(1),t.Q6J("ngIf",!(null!=e.dataSource.data&&e.dataSource.data.length)&&e.noData))},dependencies:[p.sg,p.O5,w.ey,f.KE,f.hX,xt.Hw,At.Ou,U.gD,It.YE,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,Tt.gM,u._Y,u.JL,g.rH,p.gd],styles:[".section-b[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding:15px;border:none;border-radius:10px;background:#f3f3f9;width:100%;line-height:24px}.add-coupon[_ngcontent-%COMP%]{font-size:16px}.add-coupon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;color:#0e1f53;text-decoration:none}.no_data[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:12px 0 0 12px}.card[_ngcontent-%COMP%]{background-color:#fff;height:90%;border-radius:10px;box-shadow:0 2px 5px #0000001a;padding:5px;text-align:center;margin:10px}.disFlex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.disFlex[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative}.disFlex[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .normal-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{border:none;height:2.375rem;padding-left:2.5rem;padding-right:1.25rem;background-color:#f3f3f9;box-shadow:none;border-radius:1.875rem;outline:0}.disFlex[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .normal-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;font-size:1rem;line-height:2.375rem;left:.813rem;top:0;color:#74788d}.mat-table[_ngcontent-%COMP%]{width:100%}.displayicon[_ngcontent-%COMP%]{display:flex}.table-container[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}[_ngcontent-%COMP%]::-webkit-scrollbar{width:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0E1F53;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#3e4c75}"]})}return o})()},{path:"add",component:h},{path:"edit/:id",component:h},{path:"view/:id",component:h}]}];let Gt=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[p.ez,S.q,u.UX,g.Bz.forChild(Ht)]})}return o})()}}]);